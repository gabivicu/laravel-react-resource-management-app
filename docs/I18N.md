# Internationalization (i18n) Documentation

## Overview

The application supports multiple languages (English and Romanian) using `react-i18next` on the frontend and Laravel's language files on the backend.

## Frontend Implementation

### Configuration

i18n is configured in `resources/js/i18n/config.ts`:
- Uses `i18next-browser-languagedetector` for automatic language detection
- Stores language preference in `localStorage` under key `i18nextLng`
- Falls back to English if language is not available
- Supports English (`en`) and Romanian (`ro`)

### Translation Files

Translation files are located in:
- `resources/js/i18n/locales/en.json` - English translations
- `resources/js/i18n/locales/ro.json` - Romanian translations

### Usage in Components

```typescript
import { useTranslation } from 'react-i18next';

function MyComponent() {
    const { t } = useTranslation();
    
    return <h1>{t('common.welcome')}</h1>;
}
```

### Language Selector

A language selector component is available in the Header:
- Located in `resources/js/components/ui/LanguageSelector.tsx`
- Allows users to switch between English and Romanian
- Changes are persisted in localStorage

## Backend Implementation

### Middleware

The `SetLocale` middleware (`app/Http/Middleware/SetLocale.php`) automatically sets the application locale based on:
1. `Accept-Language` header from the request
2. `locale` query parameter
3. Default locale from config

### Language Files

Laravel language files are located in:
- `lang/en/messages.php` - English messages
- `lang/ro/messages.php` - Romanian messages

### Usage in Controllers

```php
return $this->success($data, __('messages.created'));
```

### API Integration

The frontend automatically sends the current language in the `Accept-Language` header with each API request, allowing the backend to respond in the appropriate language.

## Adding New Translations

### Frontend

1. Add the translation key to both `en.json` and `ro.json`:
```json
{
  "mySection": {
    "myKey": "My English Text"
  }
}
```

2. Use in components:
```typescript
{t('mySection.myKey')}
```

### Backend

1. Add the translation to both language files:
```php
// lang/en/messages.php
return [
    'my_key' => 'My English Text',
];

// lang/ro/messages.php
return [
    'my_key' => 'Textul meu în română',
];
```

2. Use in code:
```php
__('messages.my_key')
```

## Supported Languages

- **English (en)** - Default
- **Romanian (ro)**

## Language Detection

The application detects language in the following order:
1. User selection (stored in localStorage)
2. Browser language preference
3. Default (English)

## Testing

To test language switching:
1. Click the language selector in the header
2. Select desired language
3. The interface should update immediately
4. Language preference is saved and persists across sessions
